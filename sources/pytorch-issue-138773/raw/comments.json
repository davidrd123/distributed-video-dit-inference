[{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2434090433","html_url":"https://github.com/pytorch/pytorch/issues/138773#issuecomment-2434090433","issue_url":"https://api.github.com/repos/pytorch/pytorch/issues/138773","id":2434090433,"node_id":"IC_kwDOA-j9z86RFUXB","user":{"login":"leonardo0lyj","id":16678974,"node_id":"MDQ6VXNlcjE2Njc4OTc0","avatar_url":"https://avatars.githubusercontent.com/u/16678974?v=4","gravatar_id":"","url":"https://api.github.com/users/leonardo0lyj","html_url":"https://github.com/leonardo0lyj","followers_url":"https://api.github.com/users/leonardo0lyj/followers","following_url":"https://api.github.com/users/leonardo0lyj/following{/other_user}","gists_url":"https://api.github.com/users/leonardo0lyj/gists{/gist_id}","starred_url":"https://api.github.com/users/leonardo0lyj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leonardo0lyj/subscriptions","organizations_url":"https://api.github.com/users/leonardo0lyj/orgs","repos_url":"https://api.github.com/users/leonardo0lyj/repos","events_url":"https://api.github.com/users/leonardo0lyj/events{/privacy}","received_events_url":"https://api.github.com/users/leonardo0lyj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T02:14:53Z","updated_at":"2024-10-24T02:14:53Z","body":"@wconstab @wanchaol @awgu @yifuwang","author_association":"NONE","pin":null,"reactions":{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2434090433/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":2,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2434128242","html_url":"https://github.com/pytorch/pytorch/issues/138773#issuecomment-2434128242","issue_url":"https://api.github.com/repos/pytorch/pytorch/issues/138773","id":2434128242,"node_id":"IC_kwDOA-j9z86RFdly","user":{"login":"Chillee","id":6355099,"node_id":"MDQ6VXNlcjYzNTUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6355099?v=4","gravatar_id":"","url":"https://api.github.com/users/Chillee","html_url":"https://github.com/Chillee","followers_url":"https://api.github.com/users/Chillee/followers","following_url":"https://api.github.com/users/Chillee/following{/other_user}","gists_url":"https://api.github.com/users/Chillee/gists{/gist_id}","starred_url":"https://api.github.com/users/Chillee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chillee/subscriptions","organizations_url":"https://api.github.com/users/Chillee/orgs","repos_url":"https://api.github.com/users/Chillee/repos","events_url":"https://api.github.com/users/Chillee/events{/privacy}","received_events_url":"https://api.github.com/users/Chillee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T02:47:27Z","updated_at":"2024-10-24T02:47:27Z","body":"You're measuring CPU-side overhead here?","author_association":"COLLABORATOR","pin":null,"reactions":{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2434128242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2434259231","html_url":"https://github.com/pytorch/pytorch/issues/138773#issuecomment-2434259231","issue_url":"https://api.github.com/repos/pytorch/pytorch/issues/138773","id":2434259231,"node_id":"IC_kwDOA-j9z86RF9kf","user":{"login":"yifuwang","id":4156752,"node_id":"MDQ6VXNlcjQxNTY3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4156752?v=4","gravatar_id":"","url":"https://api.github.com/users/yifuwang","html_url":"https://github.com/yifuwang","followers_url":"https://api.github.com/users/yifuwang/followers","following_url":"https://api.github.com/users/yifuwang/following{/other_user}","gists_url":"https://api.github.com/users/yifuwang/gists{/gist_id}","starred_url":"https://api.github.com/users/yifuwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yifuwang/subscriptions","organizations_url":"https://api.github.com/users/yifuwang/orgs","repos_url":"https://api.github.com/users/yifuwang/repos","events_url":"https://api.github.com/users/yifuwang/events{/privacy}","received_events_url":"https://api.github.com/users/yifuwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T04:29:32Z","updated_at":"2024-10-24T04:29:32Z","body":"Thanks for the detailed report!\r\n\r\nCan you share some insights about the use cases in which this CPU overhead would matter? We are aware of the overhead, but based on my understanding, for throughput-oriented workloads (e.g., training), the overhead wouldn't be exposed. For low-latency inference, even the overhead of non-functional collectives isn't acceptable without CUDA graph.\r\n\r\nRegarding the all-reduce copy - this is clearly an issue, and we should fix it. It exists because funcol uses `ProcessGroup` under the hood, and `ProcessGroup` currently only has a binding for in-place all-reduce. We can address it by adding a binding that calls NCCL's out-of-place all-reduce.","author_association":"COLLABORATOR","pin":null,"reactions":{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2434259231/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2453262143","html_url":"https://github.com/pytorch/pytorch/issues/138773#issuecomment-2453262143","issue_url":"https://api.github.com/repos/pytorch/pytorch/issues/138773","id":2453262143,"node_id":"IC_kwDOA-j9z86SOc8_","user":{"login":"kwen2501","id":6676466,"node_id":"MDQ6VXNlcjY2NzY0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/6676466?v=4","gravatar_id":"","url":"https://api.github.com/users/kwen2501","html_url":"https://github.com/kwen2501","followers_url":"https://api.github.com/users/kwen2501/followers","following_url":"https://api.github.com/users/kwen2501/following{/other_user}","gists_url":"https://api.github.com/users/kwen2501/gists{/gist_id}","starred_url":"https://api.github.com/users/kwen2501/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kwen2501/subscriptions","organizations_url":"https://api.github.com/users/kwen2501/orgs","repos_url":"https://api.github.com/users/kwen2501/repos","events_url":"https://api.github.com/users/kwen2501/events{/privacy}","received_events_url":"https://api.github.com/users/kwen2501/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-03T02:06:36Z","updated_at":"2024-11-03T02:06:36Z","body":"Discussed with @yifuwang offline, we are going to add an out-of-place implementation in ProcessGroup Backend","author_association":"COLLABORATOR","pin":null,"reactions":{"url":"https://api.github.com/repos/pytorch/pytorch/issues/comments/2453262143/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]