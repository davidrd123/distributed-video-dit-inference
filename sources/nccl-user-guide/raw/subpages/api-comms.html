<!DOCTYPE html>
<html class="writer-html5" lang="en-US">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Communicator Creation and Management Functions &mdash; NCCL 2.29.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=8eabb79f" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=324d1df1"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Collective Communication Functions" href="colls.html" />
    <link rel="prev" title="NCCL API" href="../api.html" />
  <script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" > 

          
          
          <a href="../index.html" class="icon icon-home">
            NCCL
          </a>
              <div class="version">
                <a href="https://docs.nvidia.com/deeplearning/sdk/nccl-archived/index.html">2.29</a>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #76b900;
    }
    .wy-side-nav-search a:link, .wy-nav-top a:link {
      color: #fff;
    }
    .wy-side-nav-search a:visited, .wy-nav-top a:visited {
      color: #fff;
    }
    .wy-side-nav-search a:hover, .wy-nav-top a:hover {
      color: #fff;
    }
    .wy-menu-vertical a:link, .wy-menu-vertical a:visited {
      color: #d9d9d9
    }
    .wy-menu-vertical a:active {
      background-color: #76b900
    }
    .wy-side-nav-search>div.version {
      color: rgba(0, 0, 0, 0.3)
    }
  </style>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview of NCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Using NCCL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/communicators.html">Creating a Communicator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#creating-a-communicator-with-options">Creating a communicator with options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#creating-a-communicator-using-multiple-nccluniqueids">Creating a communicator using multiple ncclUniqueIds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#shrinking-a-communicator">Shrinking a communicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#growing-a-communicator">Growing a communicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#creating-more-communicators">Creating more communicators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#using-multiple-nccl-communicators-concurrently">Using multiple NCCL communicators concurrently</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#finalizing-a-communicator">Finalizing a communicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#destroying-a-communicator">Destroying a communicator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/communicators.html#error-handling-and-communicator-abort">Error handling and communicator abort</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/communicators.html#asynchronous-errors-and-error-handling">Asynchronous errors and error handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/communicators.html#fault-tolerance">Fault Tolerance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/communicators.html#quality-of-service">Quality of Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/collectives.html">Collective Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#allreduce">AllReduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#broadcast">Broadcast</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#reduce">Reduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#allgather">AllGather</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#reducescatter">ReduceScatter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#alltoall">AlltoAll</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#gather">Gather</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/collectives.html#scatter">Scatter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/data.html">Data Pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/streams.html">CUDA Stream Semantics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/streams.html#mixing-multiple-streams-within-the-same-ncclgroupstart-end-group">Mixing Multiple Streams within the same ncclGroupStart/End() group</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/groups.html">Group Calls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/groups.html#management-of-multiple-gpus-from-one-thread">Management Of Multiple GPUs From One Thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/groups.html#aggregated-operations-2-2-and-later">Aggregated Operations (2.2 and later)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/groups.html#group-operation-ordering-semantics">Group Operation Ordering Semantics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/groups.html#nonblocking-group-operation">Nonblocking Group Operation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/p2p.html">Point-to-point communication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/p2p.html#two-sided-communication">Two-sided communication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#sendrecv">Sendrecv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#one-to-all-scatter">One-to-all (scatter)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#all-to-one-gather">All-to-one (gather)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#all-to-all">All-to-all</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#neighbor-exchange">Neighbor exchange</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../usage/p2p.html#one-sided-communication">One-sided communication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#putsignal-and-waitsignal">PutSignal and WaitSignal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#barrier">Barrier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/p2p.html#id1">All-to-all</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/threadsafety.html">Thread Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/inplace.html">In-place Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/cudagraph.html">Using NCCL with CUDA Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/bufferreg.html">User Buffer Registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#nvlink-sharp-buffer-registration">NVLink Sharp Buffer Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#ib-sharp-buffer-registration">IB Sharp Buffer Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#general-buffer-registration">General Buffer Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#buffer-registration-and-pxn">Buffer Registration and PXN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#memory-allocator">Memory Allocator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#window-registration">Window Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/bufferreg.html#zero-cta-optimization">Zero-CTA Optimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/deviceapi.html">Device-Initiated Communication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#device-api">Device API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#host-side-setup">Host-Side Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#simple-lsa-kernel">Simple LSA Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#multimem-device-kernel">Multimem Device Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#thread-groups">Thread Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#teams">Teams</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#host-accessible-device-pointer-functions">Host-Accessible Device Pointer Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/deviceapi.html#gin-device-kernel">GIN Device Kernel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">NCCL API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Communicator Creation and Management Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ncclgetlasterror">ncclGetLastError</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclgeterrorstring">ncclGetErrorString</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclgetversion">ncclGetVersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclgetuniqueid">ncclGetUniqueId</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcomminitrank">ncclCommInitRank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcomminitall">ncclCommInitAll</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcomminitrankconfig">ncclCommInitRankConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcomminitrankscalable">ncclCommInitRankScalable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommsplit">ncclCommSplit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommshrink">ncclCommShrink</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommgetuniqueid">ncclCommGetUniqueId</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommgrow">ncclCommGrow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommfinalize">ncclCommFinalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommrevoke">ncclCommRevoke</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommdestroy">ncclCommDestroy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommabort">ncclCommAbort</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommgetasyncerror">ncclCommGetAsyncError</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommcount">ncclCommCount</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommcudevice">ncclCommCuDevice</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommuserrank">ncclCommUserRank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommregister">ncclCommRegister</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommderegister">ncclCommDeregister</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommwindowregister">ncclCommWindowRegister</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclcommwindowderegister">ncclCommWindowDeregister</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclmemalloc">ncclMemAlloc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ncclmemfree">ncclMemFree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="colls.html">Collective Communication Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclallreduce">ncclAllReduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclbroadcast">ncclBroadcast</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclreduce">ncclReduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclallgather">ncclAllGather</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclreducescatter">ncclReduceScatter</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclalltoall">ncclAlltoAll</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclgather">ncclGather</a></li>
<li class="toctree-l3"><a class="reference internal" href="colls.html#ncclscatter">ncclScatter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="group.html">Group Calls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="group.html#ncclgroupstart">ncclGroupStart</a></li>
<li class="toctree-l3"><a class="reference internal" href="group.html#ncclgroupend">ncclGroupEnd</a></li>
<li class="toctree-l3"><a class="reference internal" href="group.html#ncclgroupsimulateend">ncclGroupSimulateEnd</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="p2p.html">Point To Point Communication Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="p2p.html#two-sided-point-to-point-operations">Two-Sided Point-to-Point Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="p2p.html#ncclsend">ncclSend</a></li>
<li class="toctree-l4"><a class="reference internal" href="p2p.html#ncclrecv">ncclRecv</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="p2p.html#one-sided-point-to-point-operations-rma">One-Sided Point-to-Point Operations (RMA)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="p2p.html#ncclputsignal">ncclPutSignal</a></li>
<li class="toctree-l4"><a class="reference internal" href="p2p.html#ncclsignal">ncclSignal</a></li>
<li class="toctree-l4"><a class="reference internal" href="p2p.html#ncclwaitsignal">ncclWaitSignal</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclcomm-t">ncclComm_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclresult-t">ncclResult_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#nccldatatype-t">ncclDataType_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclredop-t">ncclRedOp_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclscalarresidence-t">ncclScalarResidence_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclconfig-t">ncclConfig_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclsiminfo-t">ncclSimInfo_t</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#ncclwindow-t">ncclWindow_t</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ops.html">User Defined Reduction Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ops.html#ncclredopcreatepremulsum">ncclRedOpCreatePreMulSum</a></li>
<li class="toctree-l3"><a class="reference internal" href="ops.html#ncclredopdestroy">ncclRedOpDestroy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="flags.html">NCCL API Supported Flags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="flags.html#window-registration-flags">Window Registration Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="flags.html#nccl-communicator-cta-policy-flags">NCCL Communicator CTA Policy Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="flags.html#communicator-shrink-flags">Communicator Shrink Flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="device.html">Device API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="device.html#host-side-setup">Host-Side Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="device.html#nccldevcomm">ncclDevComm</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#nccldevcommcreate">ncclDevCommCreate</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#nccldevcommdestroy">ncclDevCommDestroy</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#nccldevcommrequirements">ncclDevCommRequirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclcommqueryproperties">ncclCommQueryProperties</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclcommproperties-t">ncclCommProperties_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgintype-t">ncclGinType_t</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="device.html#lsa">LSA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="device.html#nccllsabarriersession">ncclLsaBarrierSession</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetpeerpointer">ncclGetPeerPointer</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetlsapointer">ncclGetLsaPointer</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetlocalpointer">ncclGetLocalPointer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="device.html#multimem">Multimem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetlsamultimempointer">ncclGetLsaMultimemPointer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="device.html#host-accessible-device-pointer-functions">Host-Accessible Device Pointer Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetlsamultimemdevicepointer">ncclGetLsaMultimemDevicePointer</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetmultimemdevicepointer">ncclGetMultimemDevicePointer</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetlsadevicepointer">ncclGetLsaDevicePointer</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgetpeerdevicepointer">ncclGetPeerDevicePointer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="device.html#gin">GIN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclgin">ncclGin</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#signals-and-counters">Signals and Counters</a></li>
<li class="toctree-l4"><a class="reference internal" href="device.html#ncclginbarriersession">ncclGinBarrierSession</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nccl1.html">Migrating from NCCL 1 to NCCL 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#initialization">Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#communication">Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#counts">Counts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#in-place-usage-for-allgather-and-reducescatter">In-place usage for AllGather and ReduceScatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#allgather-arguments-order">AllGather arguments order</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#datatypes">Datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nccl1.html#error-codes">Error codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#communicator-creation-and-destruction-examples">Communicator Creation and Destruction Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples.html#example-1-single-process-single-thread-multiple-devices">Example 1: Single Process, Single Thread, Multiple Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples.html#example-2-one-device-per-process-or-thread">Example 2: One Device per Process or Thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples.html#example-3-multiple-devices-per-thread">Example 3: Multiple Devices per Thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples.html#example-4-multiple-communicators-per-device">Example 4: Multiple communicators per device</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#communication-examples">Communication Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples.html#example-1-one-device-per-process-or-thread">Example 1: One Device per Process or Thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples.html#example-2-multiple-devices-per-thread">Example 2: Multiple Devices per Thread</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mpi.html">NCCL and MPI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mpi.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#using-multiple-devices-per-process">Using multiple devices per process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#reducescatter-operation">ReduceScatter operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#send-and-receive-counts">Send and Receive counts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#other-collectives-and-point-to-point-operations">Other collectives and point-to-point operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#in-place-operations">In-place operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mpi.html#using-nccl-within-an-mpi-program">Using NCCL within an MPI Program</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#mpi-progress">MPI Progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpi.html#inter-gpu-communication-with-cuda-aware-mpi">Inter-GPU Communication with CUDA-aware MPI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../env.html">Environment Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../env.html#system-configuration">System configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-socket-ifname">NCCL_SOCKET_IFNAME</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#values-accepted">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-socket-family">NCCL_SOCKET_FAMILY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id2">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-socket-retry-cnt">NCCL_SOCKET_RETRY_CNT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id3">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-socket-retry-sleep-msec">NCCL_SOCKET_RETRY_SLEEP_MSEC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id4">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-socket-poll-timeout-msec">NCCL_SOCKET_POLL_TIMEOUT_MSEC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id5">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-socket-nthreads">NCCL_SOCKET_NTHREADS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id6">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-nsocks-perthread">NCCL_NSOCKS_PERTHREAD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id7">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-cross-nic">NCCL_CROSS_NIC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id8">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-hca">NCCL_IB_HCA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id9">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-timeout">NCCL_IB_TIMEOUT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id10">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-retry-cnt">NCCL_IB_RETRY_CNT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id11">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-gid-index">NCCL_IB_GID_INDEX</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id12">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-addr-family">NCCL_IB_ADDR_FAMILY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id13">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-addr-range">NCCL_IB_ADDR_RANGE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id14">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-roce-version-num">NCCL_IB_ROCE_VERSION_NUM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id15">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-sl">NCCL_IB_SL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id16">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-tc">NCCL_IB_TC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id17">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-fifo-tc">NCCL_IB_FIFO_TC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id18">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-return-async-events">NCCL_IB_RETURN_ASYNC_EVENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id19">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-oob-net-enable">NCCL_OOB_NET_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id20">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-oob-net-ifname">NCCL_OOB_NET_IFNAME</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id21">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-uid-stagger-threshold">NCCL_UID_STAGGER_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id22">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-uid-stagger-rate">NCCL_UID_STAGGER_RATE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id23">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net">NCCL_NET</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id24">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net-plugin">NCCL_NET_PLUGIN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id25">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-tuner-plugin">NCCL_TUNER_PLUGIN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id26">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-profiler-plugin">NCCL_PROFILER_PLUGIN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id27">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-env-plugin">NCCL_ENV_PLUGIN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id28">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ignore-cpu-affinity">NCCL_IGNORE_CPU_AFFINITY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id29">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-conf-file">NCCL_CONF_FILE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id30">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-debug">NCCL_DEBUG</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id32">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-debug-file">NCCL_DEBUG_FILE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id33">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-debug-subsys">NCCL_DEBUG_SUBSYS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id34">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-debug-timestamp-format">NCCL_DEBUG_TIMESTAMP_FORMAT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#value-accepted">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-debug-timestamp-levels">NCCL_DEBUG_TIMESTAMP_LEVELS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id35">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-collnet-enable">NCCL_COLLNET_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id36">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-collnet-node-threshold">NCCL_COLLNET_NODE_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id37">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-cta-policy">NCCL_CTA_POLICY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id38">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-netdevs-policy">NCCL_NETDEVS_POLICY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id39">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-topo-file">NCCL_TOPO_FILE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id40">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-topo-dump-file">NCCL_TOPO_DUMP_FILE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id41">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-set-thread-name">NCCL_SET_THREAD_NAME</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id42">Value accepted</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../env.html#debugging">Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-p2p-disable">NCCL_P2P_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id43">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-p2p-level">NCCL_P2P_LEVEL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id44">Values accepted</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env.html#integer-values-legacy">Integer Values (Legacy)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-p2p-direct-disable">NCCL_P2P_DIRECT_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id45">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-shm-disable">NCCL_SHM_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id46">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-buffsize">NCCL_BUFFSIZE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id47">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-nthreads">NCCL_NTHREADS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id48">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-max-nchannels">NCCL_MAX_NCHANNELS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id49">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-min-nchannels">NCCL_MIN_NCHANNELS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id50">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-checks-disable">NCCL_CHECKS_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id51">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-check-pointers">NCCL_CHECK_POINTERS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id52">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-launch-mode">NCCL_LAUNCH_MODE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id53">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-disable">NCCL_IB_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id54">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-ar-threshold">NCCL_IB_AR_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id55">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-qps-per-connection">NCCL_IB_QPS_PER_CONNECTION</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id56">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-split-data-on-qps">NCCL_IB_SPLIT_DATA_ON_QPS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id57">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-cuda-support">NCCL_IB_CUDA_SUPPORT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id58">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-pci-relaxed-ordering">NCCL_IB_PCI_RELAXED_ORDERING</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id59">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-adaptive-routing">NCCL_IB_ADAPTIVE_ROUTING</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id60">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-ece-enable">NCCL_IB_ECE_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id61">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-mem-sync-domain">NCCL_MEM_SYNC_DOMAIN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id62">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-cumem-enable">NCCL_CUMEM_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id63">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-cumem-host-enable">NCCL_CUMEM_HOST_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id64">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net-gdr-level-formerly-nccl-ib-gdr-level">NCCL_NET_GDR_LEVEL (formerly NCCL_IB_GDR_LEVEL)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id65">Values accepted</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id66">Integer Values (Legacy)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net-gdr-c2c">NCCL_NET_GDR_C2C</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id67">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net-gdr-read">NCCL_NET_GDR_READ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id68">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net-shared-buffers">NCCL_NET_SHARED_BUFFERS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id69">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-net-shared-comms">NCCL_NET_SHARED_COMMS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id70">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-single-ring-threshold">NCCL_SINGLE_RING_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id71">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ll-threshold">NCCL_LL_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id72">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-tree-threshold">NCCL_TREE_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id73">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-algo">NCCL_ALGO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id74">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-proto">NCCL_PROTO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id75">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-nvb-disable">NCCL_NVB_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id76">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-pxn-disable">NCCL_PXN_DISABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id77">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-p2p-pxn-level">NCCL_P2P_PXN_LEVEL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id78">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-pxn-c2c">NCCL_PXN_C2C</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id79">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-runtime-connect">NCCL_RUNTIME_CONNECT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id80">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-graph-register">NCCL_GRAPH_REGISTER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id82">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-local-register">NCCL_LOCAL_REGISTER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id83">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-legacy-cuda-register">NCCL_LEGACY_CUDA_REGISTER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id84">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-win-enable">NCCL_WIN_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id85">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-set-stack-size">NCCL_SET_STACK_SIZE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id86">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-graph-mixing-support">NCCL_GRAPH_MIXING_SUPPORT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id88">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-dmabuf-enable">NCCL_DMABUF_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id89">Value accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-p2p-net-chunksize">NCCL_P2P_NET_CHUNKSIZE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id90">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-p2p-ll-threshold">NCCL_P2P_LL_THRESHOLD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id91">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-alloc-p2p-net-ll-buffers">NCCL_ALLOC_P2P_NET_LL_BUFFERS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id92">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-comm-blocking">NCCL_COMM_BLOCKING</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id93">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-cga-cluster-size">NCCL_CGA_CLUSTER_SIZE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id94">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-max-ctas">NCCL_MAX_CTAS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id95">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-min-ctas">NCCL_MIN_CTAS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id96">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-nvls-enable">NCCL_NVLS_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id97">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ib-merge-nics">NCCL_IB_MERGE_NICS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id98">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-mnnvl-enable">NCCL_MNNVL_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id99">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-mnnvl-uuid">NCCL_MNNVL_UUID</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id100">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-mnnvl-clique-id">NCCL_MNNVL_CLIQUE_ID</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id101">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ras-enable">NCCL_RAS_ENABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id102">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ras-addr">NCCL_RAS_ADDR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id103">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ras-timeout-factor">NCCL_RAS_TIMEOUT_FACTOR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id104">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-launch-order-implicit">NCCL_LAUNCH_ORDER_IMPLICIT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id106">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-launch-race-fatal">NCCL_LAUNCH_RACE_FATAL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id107">Values accepted</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#nccl-ipc-use-abstract-socket">NCCL_IPC_USE_ABSTRACT_SOCKET</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env.html#id108">Values accepted</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#errors">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#ras">RAS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting/ras.html">RAS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../troubleshooting/ras.html#principle-of-operation">Principle of Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../troubleshooting/ras.html#ras-queries">RAS Queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../troubleshooting/ras.html#sample-output">Sample Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../troubleshooting/ras.html#json-output">JSON Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../troubleshooting/ras.html#monitoring-mode">Monitoring Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#gpu-direct">GPU Direct</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#gpu-to-gpu-communication">GPU-to-GPU communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#gpu-to-nic-communication">GPU-to-NIC communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#pci-access-control-services-acs">PCI Access Control Services (ACS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#topology-detection">Topology detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#memory-issues">Memory issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#shared-memory">Shared memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#stack-size">Stack size</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#unified-memory-uvm">Unified Memory (UVM)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#networking-issues">Networking issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#ip-network-interfaces">IP Network Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#ip-ports">IP Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#infiniband">InfiniBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#rdma-over-converged-ethernet-roce">RDMA over Converged Ethernet (RoCE)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NCCL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">NCCL API</a></li>
      <li class="breadcrumb-item active">Communicator Creation and Management Functions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/comms.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="communicator-creation-and-management-functions">
<h1>Communicator Creation and Management Functions<a class="headerlink" href="#communicator-creation-and-management-functions" title="Permalink to this heading"></a></h1>
<p>The following functions are public APIs exposed by NCCL to create and manage the collective communication operations.</p>
<section id="ncclgetlasterror">
<h2>ncclGetLastError<a class="headerlink" href="#ncclgetlasterror" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclGetLastError">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ncclGetLastError</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclGetLastError" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Returns a human-readable string corresponding to the last error that occurred in NCCL.
Note: The error is not cleared by calling this function.
Please note that the string returned by ncclGetLastError could be unrelated to the current call
and can be a result of previously launched asynchronous operations, if any.</p>
</section>
<section id="ncclgeterrorstring">
<h2>ncclGetErrorString<a class="headerlink" href="#ncclgeterrorstring" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclGetErrorString">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ncclGetErrorString</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">result</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclGetErrorString" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Returns a human-readable string corresponding to the passed error code.</p>
</section>
<section id="ncclgetversion">
<h2>ncclGetVersion<a class="headerlink" href="#ncclgetversion" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclGetVersion">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclGetVersion</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">version</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclGetVersion" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>The ncclGetVersion function returns the version number of the currently linked NCCL library.
The NCCL version number is returned in <em>version</em> and encoded as an integer which includes the
<code class="xref c c-macro docutils literal notranslate"><span class="pre">NCCL_MAJOR</span></code>, <code class="xref c c-macro docutils literal notranslate"><span class="pre">NCCL_MINOR</span></code> and <code class="xref c c-macro docutils literal notranslate"><span class="pre">NCCL_PATCH</span></code> levels.
The version number returned will be the same as the <code class="xref c c-macro docutils literal notranslate"><span class="pre">NCCL_VERSION_CODE</span></code> defined in <em>nccl.h</em>.
NCCL version numbers can be compared using the supplied macro <code class="xref c c-macro docutils literal notranslate"><span class="pre">NCCL_VERSION</span></code> as <code class="docutils literal notranslate"><span class="pre">NCCL_VERSION(MAJOR,MINOR,PATCH)</span></code></p>
</section>
<section id="ncclgetuniqueid">
<h2>ncclGetUniqueId<a class="headerlink" href="#ncclgetuniqueid" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclGetUniqueId">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclGetUniqueId</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ncclUniqueId</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">uniqueId</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclGetUniqueId" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Generates an Id to be used in ncclCommInitRank. ncclGetUniqueId should be
called once when creating a communicator and the Id should be distributed to all ranks in the
communicator before calling ncclCommInitRank. <em>uniqueId</em> should point to a ncclUniqueId object allocated by the user.</p>
</section>
<section id="ncclcomminitrank">
<h2>ncclCommInitRank<a class="headerlink" href="#ncclcomminitrank" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommInitRank">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommInitRank</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">nranks</span></span>, <span class="n"><span class="pre">ncclUniqueId</span></span><span class="w"> </span><span class="n"><span class="pre">commId</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">rank</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommInitRank" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Creates a new communicator (multi thread/process version).
<em>rank</em> must be between 0 and <em>nranks</em>-1 and unique within a communicator clique.
Each rank is associated to a CUDA device, which has to be set before calling
ncclCommInitRank.
ncclCommInitRank implicitly synchronizes with other ranks, hence it must be
called by different threads/processes or used within ncclGroupStart/ncclGroupEnd.</p>
</section>
<section id="ncclcomminitall">
<h2>ncclCommInitAll<a class="headerlink" href="#ncclcomminitall" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommInitAll">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommInitAll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">comms</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">ndev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devlist</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommInitAll" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Creates a clique of communicators (single process version) in a blocking way.
This is a convenience function to create a single-process communicator clique.
Returns an array of <em>ndev</em> newly initialized communicators in <em>comms</em>.
<em>comms</em> should be pre-allocated with size at least ndev*sizeof(<a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><code class="xref c c-type docutils literal notranslate"><span class="pre">ncclComm_t</span></code></a>).
<em>devlist</em> defines the CUDA devices associated with each rank. If <em>devlist</em> is NULL,
the first <em>ndev</em> CUDA devices are used, in order.</p>
</section>
<section id="ncclcomminitrankconfig">
<span id="id1"></span><h2>ncclCommInitRankConfig<a class="headerlink" href="#ncclcomminitrankconfig" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommInitRankConfig">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommInitRankConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">nranks</span></span>, <span class="n"><span class="pre">ncclUniqueId</span></span><span class="w"> </span><span class="n"><span class="pre">commId</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">rank</span></span>, <a class="reference internal" href="types.html#c.ncclConfig_t" title="ncclConfig_t"><span class="n"><span class="pre">ncclConfig_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommInitRankConfig" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>This function works the same way as <em>ncclCommInitRank</em> but accepts a configuration argument of extra attributes for
the communicator. If config is passed as NULL, the communicator will have the default behavior, as if ncclCommInitRank
was called.</p>
<p>See the <a class="reference internal" href="../usage/communicators.html#init-rank-config"><span class="std std-ref">Creating a communicator with options</span></a> section for details on configuration options.</p>
</section>
<section id="ncclcomminitrankscalable">
<h2>ncclCommInitRankScalable<a class="headerlink" href="#ncclcomminitrankscalable" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommInitRankScalable">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommInitRankScalable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">newcomm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">nranks</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">myrank</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">nId</span></span>, <span class="n"><span class="pre">ncclUniqueId</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">commIds</span></span>, <a class="reference internal" href="types.html#c.ncclConfig_t" title="ncclConfig_t"><span class="n"><span class="pre">ncclConfig_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommInitRankScalable" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>This function works the same way as <em>ncclCommInitRankConfig</em> but accepts a list of ncclUniqueIds instead of a single one.
If only one ncclUniqueId is passed, the communicator will be initialized as if ncclCommInitRankConfig was called.
The provided ncclUniqueIds will all be used to initalize the single communicator given in argument.</p>
<p>See the <a class="reference internal" href="../usage/communicators.html#init-rank-config"><span class="std std-ref">Creating a communicator with options</span></a> section for details on how to create and distribute the list of ncclUniqueIds.</p>
</section>
<section id="ncclcommsplit">
<h2>ncclCommSplit<a class="headerlink" href="#ncclcommsplit" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommSplit">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommSplit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">color</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">key</span></span>, <a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">newcomm</span></span>, <a class="reference internal" href="types.html#c.ncclConfig_t" title="ncclConfig_t"><span class="n"><span class="pre">ncclConfig_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommSplit" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>The <em>ncclCommSplit</em> is a collective function and creates a set of new communicators from an existing one. Ranks which
pass the same <em>color</em> value will be part of the same group; color must be a non-negative value. If it is
passed as <em>NCCL_SPLIT_NOCOLOR</em>, it means that the rank will not be part of any group, therefore returning NULL
as newcomm.
The value of key will determine the rank order, and the smaller key means the smaller rank in new communicator.
If keys are equal between ranks, then the rank in the original communicator will be used to order ranks.
If the new communicator needs to have a special configuration, it can be passed as <em>config</em>, otherwise setting
config to NULL will make the new communicator inherit the original communicators configuration.
When split, there should not be any outstanding NCCL operations on the <em>comm</em>. Otherwise, it might cause
a deadlock.</p>
</section>
<section id="ncclcommshrink">
<h2>ncclCommShrink<a class="headerlink" href="#ncclcommshrink" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommShrink">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommShrink</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">excludeRanksList</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">excludeRanksCount</span></span>, <a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">newcomm</span></span>, <a class="reference internal" href="types.html#c.ncclConfig_t" title="ncclConfig_t"><span class="n"><span class="pre">ncclConfig_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">shrinkFlags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommShrink" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>The <em>ncclCommShrink</em> function creates a new communicator by removing specified ranks from an existing communicator.
It is a collective function that must be called by all participating ranks in the newly created communicator.
Ranks that are part of <em>excludeRanksList</em> should not call this function.
The original ranks listed in <em>excludeRanksList</em> (of size <em>excludeRanksCount</em>) will be excluded from the new communicator.
Within the new communicator, ranks will be updated to maintain a contiguous set of ids.
If the new communicator needs a special configuration, it can be passed as <em>config</em>; otherwise, setting config to NULL will make the new communicator inherit the configuration of the parent communicator.</p>
<p>The <em>shrinkFlags</em> parameter controls the behavior of the operation. Use <em>NCCL_SHRINK_DEFAULT</em> (or <em>0</em>) for normal operation, or <em>NCCL_SHRINK_ABORT</em> when shrinking after an error on the parent communicator.
Specifically, when using <em>NCCL_SHRINK_DEFAULT</em>, there should not be any outstanding NCCL operations on the <em>comm</em> to avoid potential deadlocks. Further, if the parent communicator has the flag config.shrinkShare set to 1, NCCL will reuse the parent communicator resources.
On the other hand, when using <em>NCCL_SHRINK_ABORT</em>, NCCL will automatically abort any outstanding operations on the parent communicator, and no resources will be shared between the parent and the newly created communicator.</p>
</section>
<section id="ncclcommgetuniqueid">
<h2>ncclCommGetUniqueId<a class="headerlink" href="#ncclcommgetuniqueid" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommGetUniqueId">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommGetUniqueId</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="n"><span class="pre">ncclUniqueId</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">uniqueId</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommGetUniqueId" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>The <em>ncclCommGetUniqueId</em> function generates a unique identifier for growing an existing communicator.
This function must be called by one rank (the coordinator) from the existing communicator, which will then distribute the <em>uniqueId</em> to all new ranks that will join the communicator via <em>ncclCommGrow</em>.
The coordinator rank broadcasts the grow handle internally to boundary ranks (rank 0 and rank N-1) of the existing communicator to ensure proper coordination during the grow operation.
This function should only be called when there are no outstanding NCCL operations on the communicator.</p>
</section>
<section id="ncclcommgrow">
<h2>ncclCommGrow<a class="headerlink" href="#ncclcommgrow" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommGrow">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommGrow</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">nRanks</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ncclUniqueId</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">uniqueId</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">rank</span></span>, <a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">newcomm</span></span>, <a class="reference internal" href="types.html#c.ncclConfig_t" title="ncclConfig_t"><span class="n"><span class="pre">ncclConfig_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommGrow" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>The <em>ncclCommGrow</em> function creates a new communicator by adding new ranks to an existing communicator.
It must be called by both existing ranks (from the parent communicator) and new ranks (joining the communicator).</p>
<p><strong>For existing ranks:</strong></p>
<ul class="simple">
<li><p><em>comm</em> should be the parent communicator</p></li>
<li><p><em>rank</em> must be set to <em>-1</em> (existing ranks retain their original rank in the new communicator)</p></li>
<li><p><em>uniqueId</em> should be <em>NULL</em> (existing ranks receive coordination information internally)</p></li>
<li><p>The function creates <em>newcomm</em> with the same rank as in the parent communicator</p></li>
</ul>
<p><strong>For new ranks:</strong></p>
<ul class="simple">
<li><p><em>comm</em> should be <em>NULL</em></p></li>
<li><p><em>rank</em> must be set to the desired rank in the new communicator (must be &gt;= parent communicator size)</p></li>
<li><p><em>uniqueId</em> must be the unique identifier obtained from <em>ncclCommGetUniqueId</em> called by the coordinator</p></li>
</ul>
<p>The <em>nRanks</em> parameter specifies the total number of ranks in the new communicator and must be greater than the size of the parent communicator.
If the new communicator needs a special configuration, it can be passed as <em>config</em>; otherwise, setting config to NULL will make the new communicator inherit the configuration of the parent communicator (for existing ranks) or use default configuration (for new ranks).</p>
<p>There should not be any outstanding NCCL operations on the parent communicator when calling this function to avoid potential deadlocks.
After the grow operation completes, the parent communicator should be destroyed using <em>ncclCommDestroy</em> to free resources.</p>
<p><strong>Example workflow:</strong></p>
<ol class="arabic simple">
<li><p>Coordinator rank calls <em>ncclCommGetUniqueId</em> to generate the grow identifier</p></li>
<li><p>Coordinator distributes the <em>uniqueId</em> to all new ranks (out-of-band)</p></li>
<li><p>All existing ranks call <em>ncclCommGrow</em> with <em>comm</em>=parent, <em>rank</em>=-1, <em>uniqueId</em>=NULL (except for Coordinator rank which passes the <em>uniqueId</em>)</p></li>
<li><p>All new ranks call <em>ncclCommGrow</em> with <em>comm</em>=NULL, <em>rank</em>=new_rank, <em>uniqueId</em>=received_id</p></li>
</ol>
</section>
<section id="ncclcommfinalize">
<h2>ncclCommFinalize<a class="headerlink" href="#ncclcommfinalize" title="Permalink to this heading"></a></h2>
</section>
<section id="ncclcommrevoke">
<h2>ncclCommRevoke<a class="headerlink" href="#ncclcommrevoke" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommRevoke">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommRevoke</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">revokeFlags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommRevoke" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Revokes in-flight operations on a communicator without destroying resources. Successful return may be <em>ncclInProgress</em> (non-blocking) while revocation completes asynchronously; applications can query <em>ncclCommGetAsyncError</em> until it returns <em>ncclSuccess</em>.</p>
<p><em>revokeFlags</em> must be set to <em>NCCL_REVOKE_DEFAULT</em> (0). Other values are reserved for future use.</p>
<p>After revoke completes, the communicator is quiesced and safe for destroy, split, and shrink. Launching new collectives on a revoked communicator returns <em>ncclInvalidUsage</em>. Calling <em>ncclCommFinalize</em> after revoke is not supported. Resource sharing via <em>splitShare</em>/<em>shrinkShare</em> is disabled when the parent communicator is revoked.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommFinalize">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommFinalize</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommFinalize" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Finalize a communicator object <em>comm</em>. When the communicator is marked as nonblocking, <em>ncclCommFinalize</em> is a
nonblocking function. Successful return from it will set communicator state as <em>ncclInProgress</em> and indicates
the communicator is under finalization where all uncompleted operations and the network-related resources are
being flushed and freed.
Once all NCCL operations are complete, the communicator will transition to the <em>ncclSuccess</em> state. Users
can query that state with <em>ncclCommGetAsyncError</em>.</p>
</section>
<section id="ncclcommdestroy">
<h2>ncclCommDestroy<a class="headerlink" href="#ncclcommdestroy" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommDestroy">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommDestroy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommDestroy" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Destroy a communicator object <em>comm</em>.
<em>ncclCommDestroy</em> only frees the local resources that are allocated to the communicator object <em>comm</em> if <em>ncclCommFinalize</em>
was previously called on the communicator; otherwise, <em>ncclCommDestroy</em> will call ncclCommFinalize internally.
If <em>ncclCommFinalize</em> is called by users, users should guarantee that the state of the communicator becomes <em>ncclSuccess</em> before
calling <em>ncclCommDestroy</em>.
In all cases, the communicator should no longer be accessed after ncclCommDestroy returns. It is recommended that
users call <em>ncclCommFinalize</em> and then <em>ncclCommDestroy</em>.
This function is an intra-node collective call, which all ranks on the same node should call to avoid a hang.</p>
</section>
<section id="ncclcommabort">
<h2>ncclCommAbort<a class="headerlink" href="#ncclcommabort" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommAbort">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommAbort</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommAbort" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p><em>ncclCommAbort</em> frees resources that are allocated to a communicator object <em>comm</em> and aborts any uncompleted
operations before destroying the communicator. All active ranks are required to call this function in order to
abort the NCCL communicator successfully. For more use cases, please check <a class="reference internal" href="../usage/communicators.html#ft"><span class="std std-ref">Fault Tolerance</span></a>.</p>
</section>
<section id="ncclcommgetasyncerror">
<h2>ncclCommGetAsyncError<a class="headerlink" href="#ncclcommgetasyncerror" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommGetAsyncError">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommGetAsyncError</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">asyncError</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommGetAsyncError" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Queries the progress and potential errors of asynchronous NCCL operations.
Operations which do not require a stream argument (e.g. ncclCommFinalize) can be considered complete as soon
as the function returns <em>ncclSuccess</em>; operations with a stream argument (e.g. ncclAllReduce) will return
<em>ncclSuccess</em> as soon as the operation is posted on the stream but may also report errors through
ncclCommGetAsyncError() until they are completed. If the return code of any NCCL function is <em>ncclInProgress</em>,
it means the operation is in the process of being enqueued in the background, and users must query the states
of the communicators until all the states become <em>ncclSuccess</em> before calling another NCCL function. Before the
states change into <em>ncclSuccess</em>, users are not allowed to issue CUDA kernel to the streams being used by NCCL.
If there has been an error on the communicator, user should destroy the communicator with <a class="reference internal" href="#c.ncclCommAbort" title="ncclCommAbort"><code class="xref c c-func docutils literal notranslate"><span class="pre">ncclCommAbort()</span></code></a>.
If an error occurs on the communicator, nothing can be assumed about the completion or correctness of operations
enqueued on that communicator.</p>
</section>
<section id="ncclcommcount">
<h2>ncclCommCount<a class="headerlink" href="#ncclcommcount" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommCount">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommCount</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommCount" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Returns in <em>count</em> the number of ranks in the NCCL communicator <em>comm</em>.</p>
</section>
<section id="ncclcommcudevice">
<h2>ncclCommCuDevice<a class="headerlink" href="#ncclcommcudevice" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommCuDevice">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommCuDevice</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">device</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommCuDevice" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Returns in <em>device</em> the CUDA device associated with the NCCL communicator <em>comm</em>.</p>
</section>
<section id="ncclcommuserrank">
<h2>ncclCommUserRank<a class="headerlink" href="#ncclcommuserrank" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommUserRank">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommUserRank</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">rank</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommUserRank" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Returns in <em>rank</em> the rank of the caller in the NCCL communicator <em>comm</em>.</p>
</section>
<section id="ncclcommregister">
<h2>ncclCommRegister<a class="headerlink" href="#ncclcommregister" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommRegister">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommRegister</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buff</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommRegister" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Registers the buffer <em>buff</em> with <em>size</em> under communicator <em>comm</em> for zero-copy communication; <em>handle</em> is
returned for future deregistration. See <em>buff</em> and <em>size</em> requirements and more instructions in <a class="reference internal" href="../usage/bufferreg.html#user-buffer-reg"><span class="std std-ref">User Buffer Registration</span></a>.</p>
</section>
<section id="ncclcommderegister">
<h2>ncclCommDeregister<a class="headerlink" href="#ncclcommderegister" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommDeregister">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommDeregister</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommDeregister" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Deregister buffer represented by <em>handle</em> under communicator <em>comm</em>.</p>
</section>
<section id="ncclcommwindowregister">
<h2>ncclCommWindowRegister<a class="headerlink" href="#ncclcommwindowregister" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommWindowRegister">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommWindowRegister</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buff</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <a class="reference internal" href="types.html#c.ncclWindow_t" title="ncclWindow_t"><span class="n"><span class="pre">ncclWindow_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">win</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">winFlags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommWindowRegister" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Collectively register local buffer <em>buff</em> with <em>size</em> under communicator <em>comm</em> into NCCL window. Since this is a collective call,
every rank in the communicator needs to participate in the registration, and <em>size</em> by default needs to be equal among the ranks. <em>win</em> is
returned for future deregistration (if called within a group, the value may not be filled in until ncclGroupEnd() has completed).
See <em>buff</em> requirement and more instructions in <a class="reference internal" href="../usage/bufferreg.html#user-buffer-reg"><span class="std std-ref">User Buffer Registration</span></a>. User can also pass
different win flags to control the registration behavior. For more win flags information, please refer to <a class="reference internal" href="flags.html#win-flags"><span class="std std-ref">Window Registration Flags</span></a>.</p>
</section>
<section id="ncclcommwindowderegister">
<h2>ncclCommWindowDeregister<a class="headerlink" href="#ncclcommwindowderegister" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclCommWindowDeregister">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclCommWindowDeregister</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#c.ncclComm_t" title="ncclComm_t"><span class="n"><span class="pre">ncclComm_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comm</span></span>, <a class="reference internal" href="types.html#c.ncclWindow_t" title="ncclWindow_t"><span class="n"><span class="pre">ncclWindow_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">win</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclCommWindowDeregister" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Deregister NCCL window represented by <em>win</em> under communicator <em>comm</em>. Deregistration is local to the rank, and
caller needs to make sure the corresponding buffer within the window is not being accessed by any NCCL operation.</p>
</section>
<section id="ncclmemalloc">
<h2>ncclMemAlloc<a class="headerlink" href="#ncclmemalloc" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclMemAlloc">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclMemAlloc</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclMemAlloc" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Allocate a GPU buffer with <em>size</em>. Allocated buffer head address will be returned by <em>ptr</em>,
and the actual allocated size can be larger than requested because of the buffer granularity
requirements from all types of NCCL optimizations.</p>
</section>
<section id="ncclmemfree">
<h2>ncclMemFree<a class="headerlink" href="#ncclmemfree" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.ncclMemFree">
<a class="reference internal" href="types.html#c.ncclResult_t" title="ncclResult_t"><span class="n"><span class="pre">ncclResult_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ncclMemFree</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ncclMemFree" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<p>Free memory allocated by <em>ncclMemAlloc()</em>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../api.html" class="btn btn-neutral float-left" title="NCCL API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="colls.html" class="btn btn-neutral float-right" title="Collective Communication Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2025, NVIDIA Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  
  <style>
  a:link, a:visited {
    color: #76b900;
  }
  a:hover {
    color: #8c0;
  }
  .rst-content dl:not(.docutils) dt {
    background: rgba(118, 185, 0, 0.1) !important;
    color: rgba(59,93,0,1) !important;
    border-top: solid 3px rgba(59,93,0,1) !important;
  }
  </style>
  <script type="text/javascript">_satellite.pageBottom();</script>


</body>
</html>